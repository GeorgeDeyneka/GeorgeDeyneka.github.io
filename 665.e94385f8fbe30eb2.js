"use strict";(self.webpackChunkHYS_AngularStore=self.webpackChunkHYS_AngularStore||[]).push([[665],{7665:(z,c,r)=>{r.r(c),r.d(c,{OrdersModule:()=>Z});var o=r(6895),d=r(2510),u=r(1135),h=r(5036),t=r(4650),f=r(3364),m=r(3350),O=r(621),v=r(8774);let x=(()=>{class e extends v.q{changeData(n,a){return n.quantity&&this.setFilterQuantity(n),super.changeData(n,a)}setFilterQuantity(n){this.data=(n.search?this.data:this.baseData).filter(a=>(a.countOfAllProd=a.products.reduce((l,_)=>l+_.quantity,0),n.quantitySelect==O.P.more?a.countOfAllProd>n.quantity:a.countOfAllProd<n.quantity))}}return e.\u0275fac=function(){let i;return function(a){return(i||(i=t.n5z(e)))(a||e)}}(),e.\u0275prov=t.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();var S=r(5644),y=r(1084),g=r(2218),p=r(1572);function C(e,i){1&e&&(t.ynx(0),t.TgZ(1,"div",5),t._UZ(2,"mat-progress-spinner",6),t.qZA(),t.BQk())}function b(e,i){if(1&e&&t._UZ(0,"app-table",10),2&e){const n=t.oxw(2);t.Q6J("typeOfTable",n.dataName)("data",n.data)}}function I(e,i){if(1&e){const n=t.EpF();t.TgZ(0,"mat-paginator",11),t.NdJ("page",function(s){t.CHM(n);const l=t.oxw(2);return t.KtG(l.changePage(s))}),t.qZA()}if(2&e){const n=t.oxw(2);t.Q6J("pageIndex",n.pageIndex)("hidePageSize",!0)("length",n.dataLength)("pageSize",5)}}function F(e,i){1&e&&(t.TgZ(0,"h4",12),t._uU(1,"The search has not given any results."),t.qZA())}function M(e,i){if(1&e&&(t.YNc(0,b,1,2,"app-table",7),t.YNc(1,I,1,4,"mat-paginator",8),t.YNc(2,F,2,0,"ng-template",null,9,t.W1O)),2&e){const n=t.MAs(3),a=t.oxw();t.Q6J("ngIf",a.dataLength),t.xp6(1),t.Q6J("ngIf",a.dataLength)("ngIfElse",n)}}const T=[{path:"",pathMatch:"full",component:(()=>{class e{constructor(n,a,s){this.ordersService=n,this.tableConfigService=a,this.ordersFilterService=s,this.data=[],this.dataName=h.V.orders,this.loading$=new u.X(!0),this.pageIndex=0}ngOnInit(){this.dataSubj$=this.ordersService.getList().subscribe(n=>{n.length&&(this.loading$.next(!1),this.data=this.ordersFilterService.setData(n,5),this.dataLength=n.length)}),this.filterSubj$=this.tableConfigService.configuration$.subscribe(n=>this.changeData(n))}changePage(n){let a=this.ordersFilterService.changePage(n);this.data=a.data,this.pageIndex=a.index}changeData(n){let a=this.ordersFilterService.changeData(n,"quantity");this.data=a.data,this.dataLength=a.length,this.pageIndex=a.index}ngOnDestroy(){this.filterSubj$.unsubscribe(),this.dataSubj$.unsubscribe(),this.tableConfigService.resetConfig()}}return e.\u0275fac=function(n){return new(n||e)(t.Y36(f.N),t.Y36(m.d),t.Y36(x))},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-orders"]],decls:8,vars:5,consts:[[1,"container"],[1,"orders__title"],[3,"param"],[4,"ngIf","ngIfElse"],["table",""],[1,"spinner__wrapper"],["mode","indeterminate"],[3,"typeOfTable","data",4,"ngIf"],["class","admin__pagination","aria-label","Select page",3,"pageIndex","hidePageSize","length","pageSize","page",4,"ngIf","ngIfElse"],["anyRes",""],[3,"typeOfTable","data"],["aria-label","Select page",1,"admin__pagination",3,"pageIndex","hidePageSize","length","pageSize","page"],[1,"search-title"]],template:function(n,a){if(1&n&&(t.TgZ(0,"div",0)(1,"h2",1),t._uU(2,"Orders"),t.qZA(),t._UZ(3,"app-filter-bar",2),t.YNc(4,C,3,0,"ng-container",3),t.ALo(5,"async"),t.YNc(6,M,4,3,"ng-template",null,4,t.W1O),t.qZA()),2&n){const s=t.MAs(7);t.xp6(3),t.Q6J("param",a.dataName),t.xp6(1),t.Q6J("ngIf",t.lcZ(5,3,a.loading$))("ngIfElse",s)}},dependencies:[o.O5,S.a,y.Z,g.NW,p.Ou,o.Ov],styles:[".container[_ngcontent-%COMP%]{padding:30px;display:flex;flex-direction:column;height:100%}app-table[_ngcontent-%COMP%]{flex:1 1 auto}.search-title[_ngcontent-%COMP%]{flex:1 1 auto;display:flex;align-items:center;justify-content:center}.orders__title[_ngcontent-%COMP%]{padding:12px}.spinner__wrapper[_ngcontent-%COMP%]{position:fixed;transform:translate(-50%,-50%);top:50%;left:58%}"]}),e})()}];let A=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=t.oAB({type:e}),e.\u0275inj=t.cJS({imports:[d.Bz.forChild(T),d.Bz]}),e})();var P=r(4466);let Z=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=t.oAB({type:e}),e.\u0275inj=t.cJS({imports:[o.ez,A,P.m,g.TU,p.Cq]}),e})()}}]);